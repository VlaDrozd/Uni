<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
        <link rel="stylesheet" href="styles.css">
        <ADLIST src="https://www.fonstola.ru/download.php?file=201111/1680x1050/fonstola.ru-60644.jpg"  duration=2000></ADLIST>
        <ADLIST src="https://w-dog.ru/wallpapers/11/0/500831153565704/priroda-pejzazh-prosmotret-nebo-zakat-pole-derevya-oblaka-vid-krasivyj-doroga.jpg"  duration=2000></ADLIST>
        <ADLIST src="https://s1.1zoom.ru/b5050/984/Canada_Parks_Lake_Mountains_Forests_Scenery_Rocky_567540_2880x1800.jpg"  duration=2000></ADLIST>
        <ADLIST src="https://w-dog.ru/wallpapers/9/17/322057789001671/zakat-nebo-solnce-luchi-oblaka-tuchi-pole-kolosya-zelenye-trava.jpg"  duration=2000></ADLIST>
        <ADLIST src="https://w-dog.ru/wallpapers/9/15/458745441613494/vajoming-ssha-grand-teton-nacionalnyj-park-snejk-river-grand-titon-nacionalnyj-park-zakat-oblaka-vecher-gory-pole-cvety-zelen-les-derevya-sosny.jpg"  duration=2000></ADLIST>
        <ADLIST src="https://get.wallhere.com/photo/2560x1600-px-landscape-river-rock-waterfall-1105857.jpg"  duration=2000></ADLIST>
        <ADLIST src="https://w-dog.ru/wallpapers/1/21/494513120428084/oblaka-gory-derevya-reka-doroga.jpg"  duration=2000></ADLIST>
        <ADLIST src="https://w-dog.ru/wallpapers/0/62/349856802100204/zolotoj-bereg-okean-avstraliya-oteli-more-gorod.jpg"  duration=2000></ADLIST>
        <ADLIST src="https://w-dog.ru/wallpapers/1/16/531216839213056/nissan-350z-doroga-osen-listva.jpg"  duration=2000></ADLIST>
        <ADLIST src="https://w-dog.ru/wallpapers/11/4/457918518996326/nebo-oblaka-ozero-skala-kamni-trava.jpg"  duration=2000></ADLIST>

    </head>

    <body onload="window.tm = setTimeout(skipImage, 1);"
        onunload="clearTimeout(window.tm);">
        <main id="main">
            <h4>Периодически сменяющиеся изображения.</h4>
            <div>
                <img ID="ad" SRC="../images/1.jpg" width="300">
            </div>
        </main>
        <script>
            let oAdSet = document.getElementsByTagName("ADLIST");
            oAdSet.current = 0;
            let oNextImage = document.createElement("IMG");

            function preLoad() {
                oNextImage.onerror = preLoad;
                oNextImage.src = oAdSet[oAdSet.current].getAttribute("src");
                oNextImage.duration = oAdSet[oAdSet.current].getAttribute("duration");
                if (null === oNextImage.duration) {
                    oNextImage.duration = 2000; 
                }
                if (++oAdSet.current === oAdSet.length) {
                    oAdSet.current = 0; 
                }
            }

            function skipImage() {
                if (oNextImage.complete) {
                    document.all.ad.src = oNextImage.src;
                    let duration = oNextImage.duration;
                    preLoad();
                    window.tm = setTimeout(skipImage, duration);
                }
                else {
                    window.tm = setTimeout(skipImage, 10);
                }        
            }

            preLoad();
        </script>
    </body>

</html>